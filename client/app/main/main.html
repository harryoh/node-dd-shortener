<div ng-include="'components/navbar/navbar.html'"></div>

<header class="hero-unit" id="banner">
  <div class="container">
    <h2>DD URL Shortener</h2>
  </div>
</header>

<div class="body container">
  <div class="row">
    <div class="col-lg-12">
      <form class="form-inline" data-ng-submit="shorten()">
        <div class="form-group form-group-sm">
          <label class="sr-only" for="url">Input URL included http:// or https://</label>
          <input type="text" class="form-control" id="url" data-ng-model="longUrl" placeholder="Input URL included http:// or https://" autofocus required>
        </div>
        <button type="submit" class="btn btn-default btn-sm">Shorten URL</button>
      </form>

    </div>
  </div>
</div>

<div class="body container">
  <div class="row">
    <div class="col-lg-12">
      <div>
        <label class="control-label">Result</label>
      </div>
      <div>
        <input type="text" readonly="readonly" data-ng-model="shortUrl" class="result" onclick="this.select();">
      </div>
    </div>
  </div>
</div>

<div class="container" data-ng-show="message">
  <div class="row">
    <div class="text-center message">{{message}}</div>
  </div>
</div>

<div class="container url-list">
  <div class="row">
    Total: {{totalUrl | number}}
    <table class="table">
      <thead>
        <tr>
          <th class="short-url">Short URL</th>
          <th class="long-url">Long URL</th>
          <th class="created">Created</th>
          <th class="clicks">Clicks</th>
        </tr>
      </thead>
      <tbody>
        <tr data-ng-repeat="data in urls">
          <td><a href="{{host}}/{{data.shortenId}}" target="_blank">{{data.shortenId}}</a></td>
          <td><a href="{{data.longUrl}}" target="_blank">{{data.longUrl}}</a></td>
          <td>{{data.createdAt | fromNow}}</td>
          <td>{{data.clicked | number}}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div style="text-align:center">
    <uib-pagination total-items="totalUrl" ng-model="currentPage" ng-change="getList()" items-per-page="pagePerNumber" max-size="6" class="pagination-sm" boundary-links="true" rotate="false"></uib-pagination>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>by <a href="https://github.com/harryoh" target="_blank">harryoh</a></p>
  </div>
</footer>
